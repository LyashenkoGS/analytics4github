<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>analytics4github</title>
    <link rel="shortcut icon" type="image/png" href="favicon.png"/>
    <meta property="og:site_name" content="analytics4github — analyze repositories pragmatically">
    <meta property="og:image"
          content="http://analytics4github-lyashenkogs.rhcloud.com/social-media.png">
    <meta property="og:description"
          content="What the project do ?
The main objective - provide analytics features to evaluate young and ambitious projects on Github.com.
For who ?
Project was created for pragmatic programmers,
who need to critically analyze activity of a repository on github.com">
    <script src="https://code.jquery.com/jquery-3.1.0.js"
            integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="
            crossorigin="anonymous"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <link rel="stylesheet" href="custom.css">
    <link rel="stylesheet" href="bootstrap.min.css">

</head>
<body>
<div class="navbar navbar-default navbar-static-top">
    <div class="container-fluid">
        <div class="row" style="background-color: #f5f5f5;
    border-bottom: 1px solid #e5e5e5;">
            <div class="row col-md-10 col-md-offset-1">
                <div class="panel-body  col-md-11">
                    <a href="https://github.com/LyashenkoGS/analytics4github"
                       style="display: block; z-index: 1;">
                        <img src="mark-github.svg"
                             style="float: left;height:26px"> </a>
                    <div class="input-group col-md-6 col-sm-6 col-lg-6">
                        <input id="projectName" type="text" value="mewo2/terrain"
                               class="form-control">
                        <div class="input-group-btn">
                            <button id="analyze-btn" type="button" class="btn btn-default">analyze
                            </button>
                            <button id="random-repo-btn" type="button" class="btn btn-default"
                                    data-toggle="tooltip" data-placement="bottom" title="get random top rating repository from
https://github.com/trending?since=monthly"><span class="glyphicon-refresh">random trending repository</span>
                                <script>
                                    /**
                                     * get random top trending repo and set in name to the main input field on the page
                                     */
                                    (function () {
                                        $('#random-repo-btn').click(function () {
                                            $.ajax({
                                                       //thoughout front-end development  use http://localhost:8080/stargazers" + "?projectName=" + inputValue/stargazers" + "?projectName=" + inputValue
                                                       url: "/randomRequestTrendingRepoName"
                                                   })
                                                    .done(function (msg) {
                                                        var response = msg;
                                                        $('#projectName').text(msg);
                                                        $('#projectName').val(msg);
                                                        $('#projectName').attr("href",
                                                                               "https://github.com/"
                                                                               + msg)
                                                        console.log(msg)
                                                        $('#repository').text(msg);
                                                        $('#repository').attr("href", "https://github.com" +msg)
                                                    })
                                                    .fail(function (jqXHR, textStatus) {
                                                        console.log(textStatus)
                                                        console.log(jqXHR)
                                                        $('#month-frequency-plot')
                                                                .html("<div class='alert alert-danger' role='alert'>Request failed with status:"
                                                                      + jqXHR.responseText
                                                                      + "<div>Sorry for temporary inconvenience<div></div>");
                                                    });
                                        });
                                    })()
                                </script>
                            </button>
                        </div>
                    </div>

                </div>
                <!-- trigger modal -->
                <p id="about" class="navbar-text" data-toggle="modal" data-target="#myModal">
                    About</p>
            </div>
        </div>

        <div class="row col-md-10 col-md-offset-1">
            <div class="panel-body">
                <object type="image/svg+xml" data="repo.svg" height="15px"></object>
                <a id="repository" target="_blank"
                   href="https://github.com/mewo2/terrain">mewo2/terrain</a>
            </div>
        </div>
        <div class="row col-md-10 col-md-offset-1">
            <ul class="nav nav-tabs">
                <li id="stargazers" class="active">
                    <a data-toggle="tab" href="#starsgazers">
                        <object type="image/svg+xml" data="star.svg" height="15px"></object>
                        stars</a>
                </li>
                <li id="commits">
                    <a data-toggle="tab" href="#commit">
                        <object type="image/svg+xml" data="git-commit.svg" height="15px"></object>
                        commits</a>
                </li>
                <li id="uniqueContributors">
                    <a data-toggle="tab" href="#uniqueContributors">
                        <object type="image/svg+xml" data="organization.svg" height="15px"></object>
                        unique contributors</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div id="container" class="col-md-10 col-md-offset-1" style="">


    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">About</h4>
                </div>
                <div class="modal-body">
                    <h4>What the project do ?</h4>
                    <p>
                        The main objective - provide analytics features
                        to evaluate young and ambitious projects on <a href="https://github.com/">
                        Github.com.
                    </a>
                    </p>
                    <h4>For who ?</h4>
                    <p>
                        Project was created for <a
                            href="https://en.wikipedia.org/wiki/The_Pragmatic_Programmer">pragmatic
                        programmers</a>, who need to
                        critically analyze activity of a repository on github.com

                    </p>
                    <h4>Principles</h4>
                    <p>
                    <ul>
                        <li>No advertisements</li>
                        <li>No annoying donate buttons</li>
                        <li>analytics4github adhere <a
                                href="https://en.wikipedia.org/wiki/Unix_philosophy">
                            Unix philosophy</a>:
                            Do one thing and do it well
                        </li>
                        <li>Simple and functional design</li>
                        <li>Adhere <a href="http://www.reactivemanifesto.org/">The Reactive
                            Manifesto</a> where it is
                            possible
                        </li>

                    </ul>
                    </p>
                    <h4>Feedback is welcome</h4>
                    <p>
                    <ul>
                        <li>
                            <a href="https://github.com/LyashenkoGS/analytics4github">https://github.com/LyashenkoGS/analytics4github</a>
                        </li>
                        <li>
                            <a href="https://ua.linkedin.com/in/lyashenkogs">https://ua.linkedin.com/in/lyashenkogs</a>
                        </li>
                        <li>
                            <a href="lyashenkogs@gmail.com">lyashenkogs@gmail.com</a>
                        </li>

                    </ul>

                    </p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <p id="current-month-interval" class="text-center">
        <script type="application/javascript">
            /**
             * Display interval from the current month begin to the current month end on UI
             */
            (function () {
                var date = new Date(), y = date.getFullYear(), m = date.getMonth();
                var lastDay = new Date(y, m + 1, 0).getDate();
                var objDate = new Date(),
                        locale = "en-us",
                        month = objDate.toLocaleString(locale, {month: "short"});

                var intervalStart = month + " " + "01" + ", " + new Date().getFullYear();
                var intervalEnd = month + " " + lastDay + ", " + new Date().getFullYear();
                document.getElementById('current-month-interval').textContent
                        = intervalStart + " - " + intervalEnd;
            })()
        </script>
    </p>
    <div class="row">
        <div class="panel panel-default text-center">
            <div id="month-frequency-plot" class="panel-body" style="height: 220px">
                <div class="alert alert-info" role="alert">Type author/repositoryName and press
                    "analyze" to build a graphic
                </div>
            </div>
        </div>
    </div>
    <p id="current-week-interval" class="text-center">
        <script type="application/javascript">
            /**
             * Display interval from the current week month  to the current saturday  on UI
             */
            (function () {
                var curr = new Date; // get current date
                var firstDay = new Date(curr.setDate(curr.getDate() - curr.getDay()));// First day is the day of the month - the day of the week
                var last = new Date(curr.setDate(curr.getDate() - curr.getDay() + 6));// last day is the first day + 6

                var locale = "en-us";
                var startMonth = firstDay.toLocaleString(locale, {month: "short"});
                var endMonth = last.toLocaleString(locale, {month: "short"});

                document.getElementById('current-week-interval').textContent
                        =
                        startMonth + " " + firstDay.getDate() + ", " + firstDay.getFullYear()
                        + " - " +
                        endMonth + " " + last.getDate() + ", " + last.getFullYear();
            })()
        </script>
    </p>
    <div class="row">
        <div class="panel panel-default text-center">
            <div id="week-frequency-plot" class="panel-body" style="height: 220px">
                <div class="alert alert-info" role="alert">Type author/repositoryName and press
                    "analyze" to build a graphic
                </div>
            </div>
        </div>
    </div>

</div>

<footer class="container col-md-10 col-md-offset-1">
    <div class="row text-muted text-center">
        <div><a href="https://github.com/LyashenkoGS/analytics4github">
            <img src="mark-github.svg"
                 style="height:26px"> </a></div>
        <span>© 2016 lyashenkogs</span>
        <div class="small"><span> <a href="https://octicons.github.com/">
        icon attribution
    </a>
    </span>
        </div>
    </div>
</footer>
</body>
<script type="application/javascript">
    $(function () {

        $(function () {
            $('#projectName').on('input', function (e) {
                console.log($(this).val());
                $('#repository').text($(this).val());
                $('#repository').attr("href", "https://github.com/" + $(this).val())
            });
        });

        /**
         * Get stargazers per week json and display as a column chart
         */
        $(function () {
            $('#analyze-btn').click(function () {
                var inputValue = $('#projectName').val();
                console.log(inputValue);
                var active_tab = $("ul.nav-tabs .active").attr('id');
                console.log("active tab: " + active_tab);
                $.ajax({
                           //thoughout front-end development  use http://localhost:8080/stargazers" + "?projectName=" + inputValue/stargazers" + "?projectName=" + inputValue
                           url: "/" + active_tab + "?projectName="
                                + inputValue,
                           beforeSend: function () {
                               $('#week-frequency-plot')
                                       .html("<img src='https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif' /> <div>Crunching the latest date, just for you. </div>");
                           }
                       })
                        .done(function (msg) {
                            var response = msg;
                            $('#week-frequency-plot').highcharts({
                                                                     chart: {
                                                                         type: 'line',
                                                                         height: '200'
                                                                     },
                                                                     legend: {
                                                                         enabled: false
                                                                     },
                                                                     title: {
                                                                         style: {
                                                                             "display": "none"
                                                                         }
                                                                     },
                                                                     xAxis: {

                                                                         categories: [
                                                                             'Mon',
                                                                             'Tue',
                                                                             'Wed',
                                                                             'Thu',
                                                                             'Fri',
                                                                             'Sat',
                                                                             'Sun'
                                                                         ]
                                                                     },
                                                                     yAxis: {
                                                                         min: 0,
                                                                         tickInterval: 1
                                                                     },
                                                                     tooltip: {
                                                                         headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                                                         pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>'
                                                                                      +
                                                                                      '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
                                                                         footerFormat: '</table>',
                                                                         shared: true,
                                                                         useHTML: true
                                                                     },
                                                                     plotOptions: {
                                                                         series: {
                                                                             color: '#1db34f'
                                                                         }
                                                                     },
                                                                     series: response
                                                                 });
                        })
                        .fail(function (jqXHR, textStatus) {
                            $('#week-frequency-plot')
                                    .html("<div class='alert alert-danger' role='alert'>Request failed with status:"
                                          +jqXHR.responseText
                                          + "<div>Sorry for temporary inconvenience<div></div>");
                        });

                $.ajax({
                           //thoughout front-end development  use http://localhost:8080/stargazers" + "?projectName=" + inputValue/stargazers" + "?projectName=" + inputValue
                           url: "/" + active_tab + "PerMonth" + "?projectName="
                                + inputValue,
                           beforeSend: function () {
                               $('#month-frequency-plot')
                                       .html("<img src='https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif' /> <div>Crunching the latest date, just for you. </div>");
                           }
                       })
                        .done(function (msg) {
                            var response = msg;
                            $('#month-frequency-plot').highcharts({
                                                                      chart: {
                                                                          type: 'column'
                                                                      },
                                                                      legend: {
                                                                          enabled: false
                                                                      },
                                                                      title: {
                                                                          style: {
                                                                              "display": "none"
                                                                          }
                                                                      },
                                                                      xAxis: {
                                                                          tickInterval: 1,
                                                                          min: 1
                                                                      },
                                                                      yAxis: {
                                                                          min: 0
                                                                      },
                                                                      tooltip: {
                                                                          headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                                                                          pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>'
                                                                                       +
                                                                                       '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
                                                                          footerFormat: '</table>',
                                                                          shared: true,
                                                                          useHTML: true
                                                                      },
                                                                      plotOptions: {
                                                                          column: {
                                                                              pointPadding: 0.1,
                                                                              borderWidth: 0,
                                                                              groupPadding: 0
                                                                          },
                                                                          series: {
                                                                              color: '#f17f49'
                                                                          }
                                                                      },
                                                                      series: response
                                                                  });
                        })
                        .fail(function (jqXHR, textStatus) {
                            $('#month-frequency-plot')
                                    .html("<div class='alert alert-danger' role='alert'>Request failed with status:"
                                          + jqXHR.responseText
                                          + "<div>Sorry for temporary inconvenience<div></div>");
                        });
            })
        })

    });
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-81812642-2', 'auto');
    ga('send', 'pageview');

</script>
</html>